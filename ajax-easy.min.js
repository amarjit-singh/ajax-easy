function enableSubmitButton(t){var n=t.find("button[type='submit']"),e=t.find("input[type='submit']");1==n.length?n.attr("disabled",!1).prop("disabled",!1).text(n.data("innertxt")):1==e.length?e.attr("disabled",!1).prop("disabled",!1).val(e.data("innertxt")):console.error("submit button not found.")}function disableSubmitButton(t,n){n=null===n?"Loading...":n;var e=t.find("button[type='submit']"),i=t.find("input[type='submit']");1==e.length?(e.attr("data-innertxt",e.text()),e.attr("disabled",!0).prop("disabled",!0).text(n)):1==i.length?(i.attr("data-innertxt",i.val()),i.attr("disabled",!0).prop("disabled",!0).val(n)):console.error("submit button not found.")}!function(t){t.fn.findInputByName=function(n){if(-1==n.indexOf("."))return t(this).find(':input[name="'+n+'"]');var e=n.split(".")[1];n=n.split(".")[0];return t(this).find(':input[name="'+n+'[]"]').eq(e)}}(jQuery),function(t){t.fn.ajaxeasy=function(n){if(void 0===n&&(n={}),n.get=function(t){return t in this?this[t]:null},!t(this).is("form"))throw"element is not a form";var e=t(this);return e.submit(function(i){i.preventDefault(),e.find("div.text-danger").remove(),disableSubmitButton(e,n.get("loading_txt"));var a={url:e.prop("action"),method:e.prop("method"),dataType:"JSON",data:e.serialize(),success:function(t){e.trigger("reset"),enableSubmitButton(e),n.get("ajax_success")(t)},error:function(n){enableSubmitButton(e);var i=0;t.each(n.responseJSON,function(t,n){if(n.constructor===Array)for(x in n)e.findInputByName(t).parent("div").append("<div style='color:#d00606;'>"+n[x]+"</div>"),0==i&&(e.findInputByName(t).focus(),i++);else e.findInputByName(t).parent("div").append("<div style='color:#d00606;'>"+n+"</div>"),0==i&&(e.findInputByName(t).focus(),i++)})}};"multipart/form-data"!=e.attr("enctype")&&0==e.find('input[type="file"]').length||(a.enctype="multipart/form-data",a.processData=!1,a.contentType=!1,a.data=new FormData(this),a.headers={"X-CSRF-Token":e.find('input[name="_token"]').val()}),t.ajax(a)}),this}}(jQuery);