function enableSubmitButton(t){var e=t.find("button[type='submit']"),n=t.find("input[type='submit']");1==e.length?e.attr("disabled",!1).prop("disabled",!1).text(e.data("innertxt")):1==n.length?n.attr("disabled",!1).prop("disabled",!1).val(n.data("innertxt")):console.error("submit button not found.")}function disableSubmitButton(t,e){e=null===e?"Loading...":e;var n=(dddd=t).find("button[type='submit']"),a=t.find("input[type='submit']");1==n.length?(n.attr("data-innertxt",n.text()),n.attr("disabled",!0).prop("disabled",!0).text(e)):1==a.length?(a.attr("data-innertxt",a.val()),a.attr("disabled",!0).prop("disabled",!0).val(e)):console.error("submit button not found.")}!function(n){n.fn.findInputByName=function(t){if(-1==t.indexOf("."))return n(this).find(':input[name="'+t+'"]');var e=t.split(".")[1];t=t.split(".")[0];return n(this).find(':input[name="'+t+'[]"]').eq(e)}}(jQuery),function(i){i.fn.ajaxeasy=function(n){if(void 0===n&&(n={}),n.get=function(t){return t in this?this[t]:null},1!=i(this).length)throw"please select exactly one element";if(!i(this).is("form"))throw"element is not a form";var a=i(this);return a.submit(function(t){t.preventDefault(),a.find("div.ajaxeasy-validationerrors").remove(),disableSubmitButton(a,n.get("loading_txt"));var e={url:a.prop("action"),method:a.prop("method"),dataType:"JSON",data:a.serialize(),success:function(t){a.trigger("reset"),enableSubmitButton(a),n.get("success_message")&&(i("<div/>",{id:"ajaxeasy-success-message"}).css({"background-color":"green",position:"fixed",bottom:"10%",left:"50%",transform:"translateX(-50%)",padding:"9px",color:"white","border-radius":"3px",display:"block","z-index":"9999"}).appendTo(i("body")).text(n.get("success_message")),setTimeout(function(){i("#ajaxeasy-success-message").fadeOut("slow","linear",function(){i(this).remove()})},3e3)),n.get("ajax_success")&&n.get("ajax_success")(t)},error:function(t){enableSubmitButton(a),"undefined"!=t.responseJSON.errors?errors=t.responseJSON.errors:errors=t.responseJSON;var n=0;i.each(errors,function(t,e){if(e.constructor===Array)for(x in e)a.findInputByName(t).parent("div").append("<div class='ajaxeasy-validationerrors' style='color:#d00606;'>"+e[x]+"</div>"),0==n&&(a.findInputByName(t).focus(),n++);else a.findInputByName(t).parent("div").append("<div class='ajaxeasy-validationerrors' style='color:#d00606;'>"+e+"</div>"),0==n&&(a.findInputByName(t).focus(),n++)})}};"multipart/form-data"!=a.attr("enctype")&&0==a.find('input[type="file"]').length||(e.enctype="multipart/form-data",e.processData=!1,e.contentType=!1,e.data=new FormData(this),e.headers={"X-CSRF-Token":a.find('input[name="_token"]').val()}),i.ajax(e)}),this}}(jQuery);